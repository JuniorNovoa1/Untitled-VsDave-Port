function onCreatePost()
	if stringStartsWith(version, "0.7") then oldGhostTappingSetting = getPropertyFromClass("backend.ClientPrefs", "data.ghostTapping") else oldGhostTappingSetting = getPropertyFromClass("ClientPrefs", "ghostTapping") end
	if stringStartsWith(version, "0.7") then setPropertyFromClass("backend.ClientPrefs", "data.ghostTapping", false) else setPropertyFromClass("ClientPrefs", "ghostTapping", false) end
	addHaxeLibrary("FlxEase", 'flixel.tweens')
	addHaxeLibrary("Conductor")
end

function onDestroy()
	if stringStartsWith(version, "0.7") then setPropertyFromClass("backend.ClientPrefs", "data.ghostTapping", oldGhostTappingSetting) else setPropertyFromClass("ClientPrefs", "ghostTapping", oldGhostTappingSetting) end
end
function onUpdate(elapsed)
	runHaxeCode([[
		if (game.unspawnNotes[0] != null)
		{
			var thing = 1500;

			if (game.unspawnNotes[0].strumTime - Conductor.songPosition < thing)
			{
				var dunceNote = game.unspawnNotes[0];
				//dunceNote.finishedGenerating = true;

				game.notes.add(dunceNote);

				var index = game.unspawnNotes.indexOf(dunceNote);
				game.unspawnNotes.splice(index, 1);
			}
		}
	]])
end

function onStepHit()
	if curStep == 100 then
		callOnLuas("sendNotification", {"VsDave.app", "Anticheat.dll", "Potential threat detected: expunged.dat"})
	end
end

function opponentNoteHit(membersIndex, noteData, noteType, isSustainNote)
	runHaxeCode([[
		if (((game.health + (FlxEase.backInOut(game.health / 16.5)) - 0.002) >= 0) && !(game.curBeat >= 320 && game.curBeat <= 330))
		{
			game.health += ((FlxEase.backInOut(game.health / 16.5)) * (game.curBeat <= 160 ? 0.25 : 1)) - 0.002; //some training wheels cuz rapparep say mod too hard
		}
	]]) --just copy and paste, would be impossible to do in lua for me
end